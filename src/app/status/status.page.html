
<ion-fab  vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button color="dark" (click)="perfilPage()">
      <ion-icon style="color:#ffcb02 !important" name="person-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

<ion-content [fullscreen]="true">
<div class="background-div1">
    <img style="width:35%"src="/assets/Picture1.png">
</div>
  <ion-fab  vertical="bottom" horizontal="start" slot="fixed">
    <ion-fab-button color="dark" (click)="home()">
      <ion-icon style="color:#ffcb02 !important" name="home-outline">
      </ion-icon>
    </ion-fab-button>
  </ion-fab>


  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

<ion-button expand="block" *ngIf="typeUser === 'Loja'" style="--background: #002946;
margin-top: 15px;
font-weight: bold;" (click)="mojuba()">Seus Ganhos</ion-button>

  <div style="text-align: center;" *ngIf="typeUser === 'user' && valorre === 0">
        <p>Parece que você não tem pedidos...</p>
        <p>Começe a comprar agora!</p>
        <ion-button fill="solid" color="warning" (click)="lista()" slot="end">Comprar</ion-button>
    </div> 
<div class="background-traco" *ngIf=" typeUser === 'user' && valorre > 0 ">
  <h2 style="text-align: center; padding-top: 22px;">Seus Pedidos</h2>


    <ion-searchbar  *ngIf="typeUser === 'user'"  animated style="margin-top:3.5% !important;" placeholder="Pesquise pela loja" (ionInput)="filterList($event)"></ion-searchbar>
		<ion-searchbar  *ngIf="typeUser === 'Loja'"  animated style="margin-top:3.5% !important;" placeholder="Pesquise o número do pedido" (ionInput)="filterList($event)"></ion-searchbar>
  
  
    <ion-segment style="background: white;" scrollable (ionChange)="filterList2($event)" value="{{valorinicial}}">
    <ion-segment-button style="width: auto !important; min-width: 160px;" *ngFor="let items of categorias" value="{{items}}">
      <p value="{{items}}">{{items}}</p>
    </ion-segment-button>

  </ion-segment>  
  <ion-list style="background: transparent" *ngFor="let items of goalListUs" >
  

    <ion-card style=" background:white;">
      <img style="margin:auto;" src="/assets/slide3.png" alt="" />
      <ion-item>
        <ion-label style="font-size: x-large;
        font-weight: 300;
        color: grey;"> {{items.statusEnt}}</ion-label>
        <ion-button fill="solid" color="warning" slot="end" [routerLink]="['/item-venda/' + items.id]">Veja</ion-button>

      </ion-item>

      <div *ngIf="items.statusEnt === 'Entregue'">
        <ion-button fill="solid" expand="block" style="font-weight: 400;" *ngIf="!items.comentario"  color="warning" (click)="novoComment(items)">Como foi a sua compra?</ion-button>
      </div>
      <div *ngIf="items.statusEnt === 'Loja informada'" >
        <ion-button fill="solid" expand="block" style="font-weight: 400;"  (click)="save(items)" color="danger">Cancelar Compra</ion-button>
      </div>
      <div *ngIf="items.statusEnt != 'Entregue' && items.statusEnt !='Cancelado'">
        <ion-button fill="solid" expand="block" style="font-weight: 400;" color="success" (click)="novoChat(items)">Fale com a loja</ion-button>
      </div>
      <ion-card-header>
        <h4 style="text-align: center;">{{items.nomeLoja}}</h4>
        <h4 style="text-align: center;">{{items.nPedido}}</h4>

        
      </ion-card-header>

      <ion-card-content>
        <p> Valor • R${{items.valor}}</p>
        <p> Data da compra • {{items.dia}}</p>
        <p> Status de pagamento • {{items.statusPag}}</p>
        <p> Número do pedido • {{items.nPedido}}
        <p slot="end">Endereço • {{items.endereco}} </p><br/> 
      </ion-card-content>

    </ion-card>

  </ion-list>
  
</div>




<div style="text-align: center;" *ngIf="typeUser === 'Loja' && valorreST === 0">
  <p>Parece que você não tem pedidos...</p>
  <p>Começe a vender agora!</p>


</div>
<div *ngIf="typeUser === 'Loja' && valorreST > 0" class="background-traco">
  <ion-list *ngFor="let items of goalListST" >
    <ion-card style=" background:white;">


      <ion-card-header>
        <h4 style="text-align: center;">{{items.nPedido}}</h4>

      </ion-card-header>
      <ion-item>
        
        <ion-label style="font-size: x-large;
        font-weight: 300;
        color: grey;"> {{items.statusEnt}}</ion-label>
        <ion-button fill="solid" color="warning" slot="end"  [routerLink]="['/item-venda/' + items.id]" >Veja</ion-button>
      </ion-item>
      <div *ngIf="items.statusEnt === 'Loja informada'" >
        <ion-button fill="solid" expand="block" style="font-weight: 400;" (click)="save(items)" color="danger">Cancelar Compra</ion-button>
      </div>
      <div *ngIf="items.statusEnt != 'Loja informada'">
        <ion-button fill="solid" expand="block" style="font-weight: 400;" color="success" [routerLink]="['/chat/' + items.id]">Fale com o cliente</ion-button>
      </div>
      <ion-card-content>
        <p> Valor • R${{items.valor}}</p>
        <p> Data da compra • {{items.dia}}</p>
        <p> Status de pagamento • {{items.statusPag}}</p>
        <p slot="end">Endereço • {{items.endereco}} </p><br/>

      </ion-card-content>

    </ion-card>

  </ion-list>
</div>
</ion-content>
